OCAMLFLAGS = -thread

OCAMLINCLUDES += $(dir . ../lib ../twitter)

OCAML_LIBS= ../lib/oauthlib ../twitter/twitter
OCamlRequire(../lib/oauthlib.cmo)
OCamlRequire(../twitter/twitter.cmo)

# We get tons of Warning 31 since we link ocamlcommon.cma twice
OCAMLWARNING_IGNORE[] += 31
OCAMLWARNING_NON_ERROR[] += 31

FILES[] = 
    oConfig
    ocamltter

NO_INSTALL=true
MyOCamlTop(ocamltter_top, $(FILES))

install::
    # to bin
    install ocamltter $(PREFIX)/bin
    # to library directory
    ocamlfind remove ocamltter
    ocamlfind install ocamltter ocamlinit.ml META

uninstall::
    rm -f $(PREFIX)/bin/ocamltter
    ocamlfind remove ocamltter
